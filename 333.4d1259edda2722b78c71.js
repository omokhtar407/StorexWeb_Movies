"use strict";(self.webpackChunkmovies=self.webpackChunkmovies||[]).push([[333],{3333:(U,p,u)=>{u.r(p),u.d(p,{AuthModule:()=>Y});var f=u(1841),g=u(8583),r=u(665),m=u(7991),e=u(639),d=u(4412),c=u(2290),_=u(3686);function Z(t,i){1&t&&(e.TgZ(0,"p"),e._uU(1," Email is required "),e.qZA())}function v(t,i){1&t&&(e.TgZ(0,"p"),e._uU(1," Email is invalid "),e.qZA())}function h(t,i){if(1&t&&(e.TgZ(0,"div",12),e.YNc(1,Z,2,0,"p",13),e.YNc(2,v,2,0,"p",13),e.qZA()),2&t){const o=e.oxw();let n,l;e.xp6(1),e.Q6J("ngIf",null==(n=o.loginForm.get("email"))||null==n.errors?null:n.errors.required),e.xp6(1),e.Q6J("ngIf",null==(l=o.loginForm.get("email"))||null==l.errors?null:l.errors.pattern)}}function T(t,i){1&t&&(e.TgZ(0,"p"),e._uU(1," Password is required "),e.qZA())}function A(t,i){if(1&t&&(e.TgZ(0,"div",12),e.YNc(1,T,2,0,"p",13),e.qZA()),2&t){const o=e.oxw();let n;e.xp6(1),e.Q6J("ngIf",null==(n=o.loginForm.get("password"))||null==n.errors?null:n.errors.required)}}let F=(()=>{class t{constructor(o,n,l,s){this._AuthenticationService=o,this._Router=n,this.toastr=l,this._NgxSpinnerService=s,this.userEmail="",this.loginForm=new r.cw({email:new r.NI(null,[r.kI.required,r.kI.pattern(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/)]),password:new r.NI(null,[r.kI.required])})}submitLogForm(o){this._AuthenticationService.login(o.value).subscribe(n=>{o.valid&&"success"==n.status&&(localStorage.setItem("userToken",n.authorisation.token),this._AuthenticationService.saveUserData(),this.loginForm.reset(),this._Router.navigate(["/layout/movies"]),this.toastr.success("Login Success","",{positionClass:"toast-top-right",timeOut:2500}))})}ngOnInit(){}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(d.$),e.Y36(m.F0),e.Y36(c._W),e.Y36(_.t2))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-login"]],decls:16,vars:4,consts:[["id","LoginForm",1,"pad-top"],[1,"container"],[1,"row","justify-content-center"],[1,"col-lg-4","col-md-6"],[1,"login_form"],[1,"mb-4"],[3,"formGroup","ngSubmit"],[1,"group","mb-4"],["formControlName","email","name","email","type","text","id","email","placeholder","Email",1,"form-control","mb-2","rounded-0"],["class","text-danger",4,"ngIf"],["formControlName","password","name","password","type","text","id","password","placeholder","Password",1,"form-control","mb-2","rounded-0"],["type","submit",1,"btn","btn-danger",3,"disabled"],[1,"text-danger"],[4,"ngIf"]],template:function(o,n){if(1&o&&(e.TgZ(0,"section",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"div",4),e.TgZ(5,"h1",5),e._uU(6,"Login"),e.qZA(),e.TgZ(7,"form",6),e.NdJ("ngSubmit",function(){return n.submitLogForm(n.loginForm)}),e.TgZ(8,"div",7),e._UZ(9,"input",8),e.YNc(10,h,3,2,"div",9),e.qZA(),e.TgZ(11,"div",7),e._UZ(12,"input",10),e.YNc(13,A,2,1,"div",9),e.qZA(),e.TgZ(14,"button",11),e._uU(15,"login"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&o){let l,s;e.xp6(7),e.Q6J("formGroup",n.loginForm),e.xp6(3),e.Q6J("ngIf",null!=(null==(l=n.loginForm.get("email"))?null:l.errors)&&(null==(l=n.loginForm.get("email"))?null:l.touched)),e.xp6(3),e.Q6J("ngIf",null!=(null==(s=n.loginForm.get("password"))?null:s.errors)&&(null==(s=n.loginForm.get("password"))?null:s.touched)),e.xp6(1),e.Q6J("disabled",n.loginForm.invalid)}},directives:[r._Y,r.JL,r.sg,r.Fj,r.JJ,r.u,g.O5],styles:[""]}),t})(),w=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-notfountpage"]],decls:1,vars:0,consts:[["id","notFound",1,"pad-top"]],template:function(o,n){1&o&&e._UZ(0,"section",0)},styles:["#notFound[_ngcontent-%COMP%]{height:100vh;background-image:url(error-404-12.c92487ead1ea578bd13e.jpg);background-size:cover;background-position:center center}"]}),t})();function q(t,i){1&t&&(e.TgZ(0,"p"),e._uU(1," name is required "),e.qZA())}function C(t,i){if(1&t&&(e.TgZ(0,"div",13),e.YNc(1,q,2,0,"p",14),e.qZA()),2&t){const o=e.oxw();let n;e.xp6(1),e.Q6J("ngIf",null==(n=o.registerForm.get("name"))||null==n.errors?null:n.errors.required)}}function x(t,i){1&t&&(e.TgZ(0,"p"),e._uU(1," Email is required "),e.qZA())}function I(t,i){1&t&&(e.TgZ(0,"p"),e._uU(1," Email is invalid "),e.qZA())}function b(t,i){if(1&t&&(e.TgZ(0,"div",13),e.YNc(1,x,2,0,"p",14),e.YNc(2,I,2,0,"p",14),e.qZA()),2&t){const o=e.oxw();let n,l;e.xp6(1),e.Q6J("ngIf",null==(n=o.registerForm.get("email"))||null==n.errors?null:n.errors.required),e.xp6(1),e.Q6J("ngIf",null==(l=o.registerForm.get("email"))||null==l.errors?null:l.errors.pattern)}}function N(t,i){1&t&&(e.TgZ(0,"p"),e._uU(1," Password is required "),e.qZA())}function J(t,i){if(1&t&&(e.TgZ(0,"div",13),e.YNc(1,N,2,0,"p",14),e.qZA()),2&t){const o=e.oxw();let n;e.xp6(1),e.Q6J("ngIf",null==(n=o.registerForm.get("password"))||null==n.errors?null:n.errors.required)}}const y=[{path:"",redirectTo:"/login",pathMatch:"full"},{path:"login",component:F},{path:"register",component:(()=>{class t{constructor(o,n,l){this._AuthenticationService=o,this._Router=n,this.toastr=l,this.error="",this.registerForm=new r.cw({name:new r.NI(null,[r.kI.required]),email:new r.NI(null,[r.kI.required,r.kI.pattern(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/)]),password:new r.NI(null,[r.kI.required])})}submitRegForm(o){this._AuthenticationService.register(o.value).subscribe(n=>{o.valid&&("success"==n.status?(localStorage.setItem("userEmail",n.user.email),this.registerForm.reset(),this._Router.navigate(["/login"]),this.toastr.success(n.message,"",{positionClass:"toast-top-right",timeOut:2500})):(this.error=n.message.email,this.toastr.error(`${this.error}!`,"",{positionClass:"toast-top-right",timeOut:2500})))})}ngOnInit(){}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(d.$),e.Y36(m.F0),e.Y36(c._W))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-register"]],decls:19,vars:5,consts:[["id","registerForm",1,"pad-top"],[1,"container"],[1,"row","justify-content-center"],[1,"col-lg-4","col-md-6"],[1,"register_form"],[1,"mb-4"],[3,"formGroup","ngSubmit"],[1,"group","mb-4"],["formControlName","name","name","name","type","text","id","name","placeholder","Name",1,"form-control","mb-2","rounded-0"],["class","text-danger",4,"ngIf"],["formControlName","email","name","email","type","text","id","email","placeholder","Email",1,"form-control","mb-2","rounded-0"],["formControlName","password","name","password","type","text","id","password","placeholder","Password",1,"form-control","mb-2","rounded-0"],["type","submit",1,"btn","btn-danger",3,"disabled"],[1,"text-danger"],[4,"ngIf"]],template:function(o,n){if(1&o&&(e.TgZ(0,"section",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"div",4),e.TgZ(5,"h1",5),e._uU(6,"Register"),e.qZA(),e.TgZ(7,"form",6),e.NdJ("ngSubmit",function(){return n.submitRegForm(n.registerForm)}),e.TgZ(8,"div",7),e._UZ(9,"input",8),e.YNc(10,C,2,1,"div",9),e.qZA(),e.TgZ(11,"div",7),e._UZ(12,"input",10),e.YNc(13,b,3,2,"div",9),e.qZA(),e.TgZ(14,"div",7),e._UZ(15,"input",11),e.YNc(16,J,2,1,"div",9),e.qZA(),e.TgZ(17,"button",12),e._uU(18,"register"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&o){let l,s,a;e.xp6(7),e.Q6J("formGroup",n.registerForm),e.xp6(3),e.Q6J("ngIf",null!=(null==(l=n.registerForm.get("name"))?null:l.errors)&&(null==(l=n.registerForm.get("name"))?null:l.touched)),e.xp6(3),e.Q6J("ngIf",null!=(null==(s=n.registerForm.get("email"))?null:s.errors)&&(null==(s=n.registerForm.get("email"))?null:s.touched)),e.xp6(3),e.Q6J("ngIf",null!=(null==(a=n.registerForm.get("password"))?null:a.errors)&&(null==(a=n.registerForm.get("password"))?null:a.touched)),e.xp6(1),e.Q6J("disabled",n.registerForm.invalid)}},directives:[r._Y,r.JL,r.sg,r.Fj,r.JJ,r.u,g.O5],styles:[""]}),t})()},{path:"**",component:w}];let R=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[m.Bz.forChild(y)],m.Bz]}),t})(),Y=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[g.ez,f.JF,r.u5,r.UX,R]]}),t})()}}]);